/*
 * Flocking MIDI Core Access
 * http://github.com/colinbdclark/flocking-midi
 *
 * Copyright 2014-2016, Colin Clark
 * Licensed under the MIT license.
 */

"use strict";

var fluid = fluid || require("infusion"),
    flock = fluid.registerNamespace("flock");

fluid.defaults("flock.midi.access", {
    gradeNames: "fluid.modelComponent",

    sysex: false,

    model: {
        accessGranted: false
    },

    invokers: {
        requestAccess: {
            funcName: "fluid.notImplemented"
        }
    },

    events: {
        onAccessRequested: null,
        afterAccessGranted: null,
        onError: null,
        afterPortStateChanged: null
    },

    listeners: {
        "afterAccessGranted.updateModel": {
            priority: "first",
            changePath: "accessGranted",
            value: true
        },

        "onError.updateModel": {
            priority: "first",
            changePath: "accessGranted",
            value: false
        }
    }
});
