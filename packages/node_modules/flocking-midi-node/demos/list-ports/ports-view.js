/*
 * Flocking MIDI Demos: Node.js Ports View
 * http://github.com/colinbdclark/flocking-midi
 *
 * Copyright 2016, Colin Clark
 * Licensed under the MIT license.
 */

"use strict";

var fluid = require("infusion"),
    flock = fluid.registerNamespace("flock");

require("console.table");

fluid.defaults("flock.midi.demos.portsView", {
    gradeNames: "fluid.modelComponent",

    modelListeners: {
        "": {
            funcName: "flock.midi.demos.portsView.logAllPorts",
            args: ["{that}.model"]
        }
    }
});

flock.midi.demos.portsView.logAllPorts = function (model) {
    var inputs = fluid.values(model.inputs);
    var outputs = fluid.values(model.outputs);

    flock.midi.demos.portsView.logTable("Inputs", inputs);
    flock.midi.demos.portsView.logTable("Outputs", outputs);
    console.log("\n");
};

flock.midi.demos.portsView.logTable = function (title, arr) {
    if (arr.length < 1) {
        console.log(title + "\n-------\nNone connected.\n");
    } else {
        console.table(title, arr);
    }
};
